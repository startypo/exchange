<div class="container-fluid m-5">
  <div class="d-flex flex-column">
    <h2>New Asset</h2>
    <hr class="w-100">
  </div>
  <div novalidate [formGroup]="form" role="form">
    <div class="d-flex flex-row justify-content-between mt-3">
      <div class="d-flex flex-column w-50 mr-5">
        <div class="form-group">
          <validate label="Name" [control]="form.controls['name']">
            <input type="text" class="form-control"  formControlName="name">
          </validate>
        </div>
        <div class="form-group">
          <validate label="Description" [control]="form.controls['description']">
            <editor formControlName="description" [settings]="{color: 'primary', height: 100}"></editor>
          </validate>
        </div>        
        <div class="form-group w-25">
          <validate label="Price" [control]="form.controls['price']">
              <input type="text" class="form-control" formControlName="price" placeholder="ϝ 1,234.56" 
                     [masquerade]="{ mask: currencyMask, pipe: currencyPipe }">
          </validate>
        </div>
        <div class="form-group">
          <button type="button" class="btn btn-lg btn-success" (click)="submit(form)"><i class="fa fa-save"></i> Save</button>
        </div>
      </div>
      <div class="d-flex flex-column w-50">
        <div class="form-group">
          <label for="fileupload" [class.text-danger]="form.controls.imgs.invalid && form.controls.imgs.dirty">Images</label>
          <fileuploader [settings]="{ authToken: userService.user.token }" name="img"
                        (uploadDone)="uploadDone($event)" (uploadError)="uploadError()"
                        (remove)="remove($event)" (rejected)="rejected($event)">
          </fileuploader>
          <div *ngIf="form.controls.imgs.invalid && form.controls.imgs.dirty" class="form-control-feedback text-danger">Field is required</div>
        </div>
      </div>
    </div>
  </div>
</div>